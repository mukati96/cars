<form [formGroup]="vehicleForm" (ngSubmit)="onSubmit()">
  <div
    class="card-body ml-md-3 m-0 pl-md-2 pl-0 pt-md-2 pt-0"
    formGroupName="vehicle_condition"
  >
    <p class="text-light1 mt-0 mb-0 w-100 p-md-0 p-1 mt-md-3">
      Please select the option that best describes the condition of your
      vehicle.
    </p>
    <p class="text-light1 mt-0 mb-3 w-100 p-md-0 p-1">
      More information helps us to provide an accurate offer.
    </p>
    <div class="condition-toggle">
      <div class="row">
        <div class="col-md-12">
          <div class="form-group">
            <label class="label-mobile conditionlabel"
              >Has the vehicle been in an accident?</label
            >
            <div class="d-block mt-2 toggle-mobile">
              <div class="btn-group btn-group-toggle">
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.has_accident.value === 'NO'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="has_accident"
                    value="NO"
                  />
                  No
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.has_accident.value === 'YES'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="has_accident"
                    value="YES"
                  />
                  Yes
                </label>
              </div>
            </div>
          </div>

          <div class="form-group" *ngIf="vehicleCondition.has_accident.value === 'YES'">
            <label class="label-mobile conditionlabel"
              >Has any accident damage to your vehicle been fully repaired?</label
            >
            <div class="d-block mt-2 toggle-mobile">
              <div class="btn-group btn-group-toggle">
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.fully_repaired.value === 'NO'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="fully_repaired"
                    value="NO"
                  />
                  No
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.fully_repaired.value === 'YES'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="fully_repaired"
                    value="YES"
                  />
                  Yes
                </label>
              </div>
            </div>
          </div>
          <div class="border-bottom-div1 pt-1 mb-4"></div>


          <div class="form-group">
            <label class="label-mobile conditionlabel"
              >Does your vehicle have any issues that would stop us from driving
              it?</label
            >
            <div class="d-block mt-2 toggle-mobile">
              <div class="btn-group btn-group-toggle">
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.run_nd_drive.value === 'NO'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="run_nd_drive"
                    value="NO"
                  />
                  No
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.run_nd_drive.value === 'YES'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="run_nd_drive"
                    value="YES"
                  />
                  Yes
                </label>
              </div>
            </div>
          </div>
          <div class="border-bottom-div1 pt-1 mb-4"></div>
          <div class="form-group">
            <label class="label-mobile conditionlabel"
              >Does your vehicle have mechanical defects or dashboard warning
              lights?</label
            >
            <div class="d-block mt-2 toggle-mobile">
              <div class="btn-group btn-group-toggle">
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.warning_light.value === 'NO'
                  }"
                >
                  <input
                    type="radio"
                    id="NO"
                    formControlName="warning_light"
                    value="NO"
                  />
                  No
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.warning_light.value === 'YES'
                  }"
                >
                  <input
                    type="radio"
                    id="YES"
                    formControlName="warning_light"
                    value="YES"
                  />
                  Yes
                </label>
              </div>
            </div>
          </div>
          <div class="border-bottom-div1 pt-1 mb-4"></div>
          <div class="form-group">
            <label class="label-mobile conditionlabel"
              >Are there any modifications to your vehicle (e.g. suspension,
              engine, etc.)?</label
            >
            <div class="d-block mt-2 toggle-mobile">
              <div class="btn-group btn-group-toggle">
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.modifications.value === 'NO'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="modifications"
                    value="NO"
                  />
                  No
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.modifications.value === 'YES'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="modifications"
                    value="YES"
                  />
                  Yes
                </label>
              </div>
            </div>
          </div>
          <div class="border-bottom-div1 pt-1 mb-4"></div>
          <div class="form-group">
            <label class="label-mobile conditionlabel"
              >Does your vehicle have any exterior damage (e.g hail
              damage)</label
            >
            <div class="d-block mt-2 toggle-mobile">
              <div class="btn-group btn-group-toggle">
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.accident.value === 'NO'
                  }"
                >
                  <input type="radio" formControlName="accident" value="NO" />
                  No
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.accident.value === 'YES'
                  }"
                >
                  <input type="radio" formControlName="accident" value="YES" />
                  Yes
                </label>
              </div>
            </div>
          </div>
          <div class="border-bottom-div1 pt-1 mb-4"></div>
          <div class="form-group">
            <label class="label-mobile conditionlabel"
              >Has this vehicle been smoked in?</label
            >
            <div class="d-block mt-2 toggle-mobile">
              <div class="btn-group btn-group-toggle">
                <label
                  class="btn"
                  [ngClass]="{ active: vehicleCondition.smoked.value === 'NO' }"
                >
                  <input type="radio" formControlName="smoked" value="NO" />
                  No
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.smoked.value === 'YES'
                  }"
                >
                  <input type="radio" formControlName="smoked" value="YES" />
                  Yes
                </label>
              </div>
            </div>
          </div>
          <div class="border-bottom-div1 pt-1 mb-4"></div>
          <div class="form-group">
            <label class="label-mobile conditionlabel"
              >What is the condition of your vehicle?</label
            >
            <div class="d-block mt-2 toggle-mobile">
              <div class="btn-group btn-group-toggle btn-mob-condition">
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.condition.value === 'Excellent'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="condition"
                    value="Excellent"
                  />
                  Excellent
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.condition.value === 'Good'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="condition"
                    value="Good"
                  />
                  Good
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.condition.value === 'Fair'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="condition"
                    value="Fair"
                  />
                  Fair
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.condition.value === 'Poor'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="condition"
                    value="Poor"
                  />
                  Poor
                </label>
              </div>
            </div>
          </div>
          <div class="border-bottom-div1 pt-1 mb-4"></div>
          <div class="form-group">
            <label class="label-mobile conditionlabel"
              >How many keys do you have for this vehicle?</label
            >
            <div class="d-block mt-2 toggle-mobile">
              <div class="btn-group btn-group-toggle">
                <label
                  class="btn"
                  [ngClass]="{ active: vehicleCondition.keys.value === '1' }"
                >
                  <input type="radio" formControlName="keys" value="1" />
                  1 Key
                </label>
                <label
                  class="btn"
                  [ngClass]="{ active: vehicleCondition.keys.value === '2+' }"
                >
                  <input type="radio" formControlName="keys" value="2+" />
                  2+ Keys
                </label>
              </div>
            </div>
          </div>
          <div class="border-bottom-div1 pt-1 mb-4"></div>
          <div class="form-group">
            <label class="label-mobile conditionlabel"
              >Do you currently have a loan or lease on this vehicle?
            </label>
            <div class="d-block mt-2 toggle-mobile">
              <div class="btn-group btn-group-toggle">
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.purchased.value === 'FINANCE'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="purchased"
                    value="FINANCE"
                  />
                  Finance
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.purchased.value === 'LEASED'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="purchased"
                    value="LEASED"
                  />
                  Lease
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.purchased.value === 'PAID OFF'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="purchased"
                    value="PAID OFF"
                  />
                  Cash (Paid-off)
                </label>
              </div>
            </div>
          </div>

          <div class="border-bottom-div1 pt-1 mb-4"></div>
          <div class="form-group">
            <label class="label-mobile conditionlabel"
              >How many miles have you driven on your current tires?
            </label>
            <div class="d-block mt-2 toggle-mobile conditionmob">
              <div class="btn-group btn-group-toggle">
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.current_miles.value === 'UNDER 5K'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="current_miles"
                    value="UNDER 5K"
                  />
                  Under 5K
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.current_miles.value === '5K TO 10K'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="current_miles"
                    value="5K TO 10K"
                  />
                  5K to 10K
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.current_miles.value === '10K TO 20K'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="current_miles"
                    value="10K TO 20K"
                  />
                  10K to 20K
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.current_miles.value === '20K TO 30K'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="current_miles"
                    value="20K TO 30K"
                  />
                  20K TO 30K
                </label>
                <label
                  class="btn"
                  [ngClass]="{
                    active: vehicleCondition.current_miles.value === 'OVER 30K'
                  }"
                >
                  <input
                    type="radio"
                    formControlName="current_miles"
                    value="OVER 30K"
                  />
                  Over 30K
                </label>
              </div>
            </div>
          </div>

         <div class="border-bottom-div1 pt-1 mb-4"></div>

          <div class="form-group">
            <label class="label-mobile conditionlabel"
              >Additional Description</label
            >
            <div class="d-block mt-2 toggle-mobile">
              <textarea
                class="form-control bg-textarea"
                formControlName="message"
                rows="4"
                placeholder="Enter description"
              ></textarea>
            </div>
          </div>
          <!-- <div class="border-bottom-div1 pt-1 mb-4"></div>
          <div class="form-group">
            <label class="label-mobile conditionlabel"
              >See your offer right away. Add your email and we'll also send you
              a copy.</label
            >
            <div class="d-block mt-2 toggle-mobile">
              <input
                type="email"
                class="form-control conditioninput"
                placeholder="Email"
              />
            </div>
          </div> -->
          <div class="mb-3 mt-4 d-block">
            <button (click)="prev()" type="button" class="backBtn">Back</button>

            <button
              type="submit"
              class="nextBtn"
              [disabled]="f?.vehicle_condition.invalid || 
              vehicleCondition.has_accident.value === 'YES' && !vehicleCondition.fully_repaired.value"
            >
              Next
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
